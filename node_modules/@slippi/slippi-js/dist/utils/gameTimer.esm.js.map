{"version":3,"file":"gameTimer.esm.js","sources":["../../src/utils/gameTimer.ts"],"sourcesContent":["import { format } from \"date-fns\";\n\nimport type { GameStartType } from \"../types\";\nimport { TimerType } from \"../types\";\nimport { exists } from \"./exists\";\n\nexport function frameToGameTimer(\n  frame: number,\n  options: Pick<GameStartType, \"timerType\" | \"startingTimerSeconds\">,\n): string {\n  const { timerType, startingTimerSeconds } = options;\n\n  if (timerType === TimerType.DECREASING) {\n    if (!exists(startingTimerSeconds)) {\n      return \"Unknown\";\n    }\n    const centiseconds = Math.ceil((((60 - (frame % 60)) % 60) * 99) / 59);\n    const date = new Date(0, 0, 0, 0, 0, startingTimerSeconds - frame / 60, centiseconds * 10);\n    return format(date, \"mm:ss.SS\");\n  }\n\n  if (timerType === TimerType.INCREASING) {\n    const centiseconds = Math.floor(((frame % 60) * 99) / 59);\n    const date = new Date(0, 0, 0, 0, 0, frame / 60, centiseconds * 10);\n    return format(date, \"mm:ss.SS\");\n  }\n\n  return \"Infinite\";\n}\n"],"names":["frameToGameTimer","frame","options","timerType","startingTimerSeconds","TimerType","DECREASING","exists","centiseconds","Math","ceil","date","Date","format","INCREASING","floor"],"mappings":";;;;SAMgBA,iBACdC,OACAC;AAEA,QAAM;AAAEC,IAAAA,SAAF;AAAaC,IAAAA;AAAb,MAAsCF,OAA5C;;AAEA,MAAIC,SAAS,KAAKE,SAAS,CAACC,UAA5B,EAAwC;AACtC,QAAI,CAACC,MAAM,CAACH,oBAAD,CAAX,EAAmC;AACjC,aAAO,SAAP;AACD;;AACD,UAAMI,YAAY,GAAGC,IAAI,CAACC,IAAL,CAAY,CAAC,KAAMT,KAAK,GAAG,EAAf,IAAsB,EAAvB,GAA6B,EAA9B,GAAoC,EAA9C,CAArB;AACA,UAAMU,IAAI,GAAG,IAAIC,IAAJ,CAAS,CAAT,EAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,EAAqB,CAArB,EAAwBR,oBAAoB,GAAGH,KAAK,GAAG,EAAvD,EAA2DO,YAAY,GAAG,EAA1E,CAAb;AACA,WAAOK,MAAM,CAACF,IAAD,EAAO,UAAP,CAAb;AACD;;AAED,MAAIR,SAAS,KAAKE,SAAS,CAACS,UAA5B,EAAwC;AACtC,UAAMN,YAAY,GAAGC,IAAI,CAACM,KAAL,CAAad,KAAK,GAAG,EAAT,GAAe,EAAhB,GAAsB,EAAjC,CAArB;AACA,UAAMU,IAAI,GAAG,IAAIC,IAAJ,CAAS,CAAT,EAAY,CAAZ,EAAe,CAAf,EAAkB,CAAlB,EAAqB,CAArB,EAAwBX,KAAK,GAAG,EAAhC,EAAoCO,YAAY,GAAG,EAAnD,CAAb;AACA,WAAOK,MAAM,CAACF,IAAD,EAAO,UAAP,CAAb;AACD;;AAED,SAAO,UAAP;AACD;;;;"}