{"version":3,"file":"types.esm.js","sources":["../src/types.ts"],"sourcesContent":["export enum Command {\n  SPLIT_MESSAGE = 0x10,\n  MESSAGE_SIZES = 0x35,\n  GAME_START = 0x36,\n  PRE_FRAME_UPDATE = 0x37,\n  POST_FRAME_UPDATE = 0x38,\n  GAME_END = 0x39,\n  FRAME_START = 0x3a,\n  ITEM_UPDATE = 0x3b,\n  FRAME_BOOKEND = 0x3c,\n  GECKO_LIST = 0x3d,\n}\n\nexport interface PlayerType {\n  playerIndex: number;\n  port: number;\n  characterId: number | null;\n  type: number | null;\n  startStocks: number | null;\n  characterColor: number | null;\n  teamShade: number | null;\n  handicap: number | null;\n  teamId: number | null;\n  staminaMode: boolean | null;\n  silentCharacter: boolean | null;\n  invisible: boolean | null;\n  lowGravity: boolean | null;\n  blackStockIcon: boolean | null;\n  metal: boolean | null;\n  startOnAngelPlatform: boolean | null;\n  rumbleEnabled: boolean | null;\n  cpuLevel: number | null;\n  offenseRatio: number | null;\n  defenseRatio: number | null;\n  modelScale: number | null;\n  controllerFix: string | null;\n  nametag: string | null;\n  displayName: string;\n  connectCode: string;\n  userId: string;\n}\n\nexport enum GameMode {\n  VS = 0x02,\n  ONLINE = 0x08,\n  TARGET_TEST = 0x0f,\n  HOME_RUN_CONTEST = 0x20,\n}\n\nexport enum Language {\n  JAPANESE = 0,\n  ENGLISH = 1,\n}\n\nexport interface GameStartType {\n  slpVersion: string | null;\n  timerType: TimerType | null;\n  inGameMode: number | null;\n  friendlyFireEnabled: boolean | null;\n  isTeams: boolean | null;\n  stageId: number | null;\n  startingTimerSeconds: number | null;\n  itemSpawnBehavior: ItemSpawnType | null;\n  enabledItems: number | null;\n  players: PlayerType[];\n  scene: number | null;\n  gameMode: GameMode | null;\n  language: Language | null;\n  gameInfoBlock: GameInfoType | null;\n  randomSeed: number | null;\n  isPAL: boolean | null;\n  isFrozenPS: boolean | null;\n  matchInfo: MatchInfo | null;\n}\n\ninterface MatchInfo {\n  matchId: string | null;\n  gameNumber: number | null;\n  tiebreakerNumber: number | null;\n}\n\nexport interface FrameStartType {\n  frame: number | null;\n  seed: number | null;\n  sceneFrameCounter: number | null;\n}\n\nexport interface GameInfoType {\n  gameBitfield1: number | null;\n  gameBitfield2: number | null;\n  gameBitfield3: number | null;\n  gameBitfield4: number | null;\n  bombRainEnabled: boolean | null;\n  selfDestructScoreValue: number | null;\n  itemSpawnBitfield1: number | null;\n  itemSpawnBitfield2: number | null;\n  itemSpawnBitfield3: number | null;\n  itemSpawnBitfield4: number | null;\n  itemSpawnBitfield5: number | null;\n  damageRatio: number | null;\n}\n\nexport enum TimerType {\n  NONE = 0b00,\n  DECREASING = 0b10,\n  INCREASING = 0b11,\n}\n\nexport enum ItemSpawnType {\n  OFF = 0xff,\n  VERY_LOW = 0x00,\n  LOW = 0x01,\n  MEDIUM = 0x02,\n  HIGH = 0x03,\n  VERY_HIGH = 0x04,\n}\n\nexport enum EnabledItemType {\n  METAL_BOX = 2 ** 0,\n  CLOAKING_DEVICE = 2 ** 1,\n  POKEBALL = 2 ** 2,\n  // Bits 4 through 8 of item bitfield 1 are unknown\n  UNKNOWN_ITEM_BIT_4 = 2 ** 3,\n  UNKNOWN_ITEM_BIT_5 = 2 ** 4,\n  UNKNOWN_ITEM_BIT_6 = 2 ** 5,\n  UNKNOWN_ITEM_BIT_7 = 2 ** 6,\n  UNKNOWN_ITEM_BIT_8 = 2 ** 7,\n  FAN = 2 ** 8,\n  FIRE_FLOWER = 2 ** 9,\n  SUPER_MUSHROOM = 2 ** 10,\n  POISON_MUSHROOM = 2 ** 11,\n  HAMMER = 2 ** 12,\n  WARP_STAR = 2 ** 13,\n  SCREW_ATTACK = 2 ** 14,\n  BUNNY_HOOD = 2 ** 15,\n  RAY_GUN = 2 ** 16,\n  FREEZIE = 2 ** 17,\n  FOOD = 2 ** 18,\n  MOTION_SENSOR_BOMB = 2 ** 19,\n  FLIPPER = 2 ** 20,\n  SUPER_SCOPE = 2 ** 21,\n  STAR_ROD = 2 ** 22,\n  LIPS_STICK = 2 ** 23,\n  HEART_CONTAINER = 2 ** 24,\n  MAXIM_TOMATO = 2 ** 25,\n  STARMAN = 2 ** 26,\n  HOME_RUN_BAT = 2 ** 27,\n  BEAM_SWORD = 2 ** 28,\n  PARASOL = 2 ** 29,\n  GREEN_SHELL = 2 ** 30,\n  RED_SHELL = 2 ** 31,\n  CAPSULE = 2 ** 32,\n  BOX = 2 ** 33,\n  BARREL = 2 ** 34,\n  EGG = 2 ** 35,\n  PARTY_BALL = 2 ** 36,\n  BARREL_CANNON = 2 ** 37,\n  BOMB_OMB = 2 ** 38,\n  MR_SATURN = 2 ** 39,\n}\n\nexport interface PreFrameUpdateType {\n  frame: number | null;\n  playerIndex: number | null;\n  isFollower: boolean | null;\n  seed: number | null;\n  actionStateId: number | null;\n  positionX: number | null;\n  positionY: number | null;\n  facingDirection: number | null;\n  joystickX: number | null;\n  joystickY: number | null;\n  cStickX: number | null;\n  cStickY: number | null;\n  trigger: number | null;\n  buttons: number | null;\n  physicalButtons: number | null;\n  physicalLTrigger: number | null;\n  physicalRTrigger: number | null;\n  rawJoystickX: number | null;\n  percent: number | null;\n}\n\nexport interface PostFrameUpdateType {\n  frame: number | null;\n  playerIndex: number | null;\n  isFollower: boolean | null;\n  internalCharacterId: number | null;\n  actionStateId: number | null;\n  positionX: number | null;\n  positionY: number | null;\n  facingDirection: number | null;\n  percent: number | null;\n  shieldSize: number | null;\n  lastAttackLanded: number | null;\n  currentComboCount: number | null;\n  lastHitBy: number | null;\n  stocksRemaining: number | null;\n  actionStateCounter: number | null;\n  miscActionState: number | null;\n  isAirborne: boolean | null;\n  lastGroundId: number | null;\n  jumpsRemaining: number | null;\n  lCancelStatus: number | null;\n  hurtboxCollisionState: number | null;\n  selfInducedSpeeds: SelfInducedSpeedsType | null;\n  hitlagRemaining: number | null;\n  animationIndex: number | null;\n}\n\nexport interface SelfInducedSpeedsType {\n  airX: number | null;\n  y: number | null;\n  attackX: number | null;\n  attackY: number | null;\n  groundX: number | null;\n}\n\nexport interface ItemUpdateType {\n  frame: number | null;\n  typeId: number | null;\n  state: number | null;\n  facingDirection: number | null;\n  velocityX: number | null;\n  velocityY: number | null;\n  positionX: number | null;\n  positionY: number | null;\n  damageTaken: number | null;\n  expirationTimer: number | null;\n  spawnId: number | null;\n  missileType: number | null;\n  turnipFace: number | null;\n  chargeShotLaunched: number | null;\n  chargePower: number | null;\n  owner: number | null;\n}\n\nexport interface FrameBookendType {\n  frame: number | null;\n  latestFinalizedFrame: number | null;\n}\n\nexport enum GameEndMethod {\n  UNRESOLVED = 0,\n  RESOLVED = 3,\n  // The following options are only returned in version 2.0.0 onwards\n  TIME = 1,\n  GAME = 2,\n  NO_CONTEST = 7,\n}\n\nexport interface GameEndType {\n  gameEndMethod: GameEndMethod | null;\n  lrasInitiatorIndex: number | null;\n  placements: PlacementType[];\n}\n\nexport interface PlacementType {\n  playerIndex: number;\n  position: number | null;\n}\n\nexport interface GeckoListType {\n  codes: GeckoCodeType[];\n  contents: Uint8Array;\n}\n\nexport interface GeckoCodeType {\n  type: number | null;\n  address: number | null;\n  contents: Uint8Array;\n}\n\nexport interface MetadataType {\n  startAt?: string | null;\n  playedOn?: string | null;\n  lastFrame?: number | null;\n  players?: {\n    [playerIndex: number]: {\n      characters: {\n        [internalCharacterId: number]: number;\n      };\n      names?: {\n        netplay?: string | null;\n        code?: string | null;\n      };\n    };\n  } | null;\n  consoleNick?: string | null;\n}\n\nexport type EventPayloadTypes =\n  | GameStartType\n  | FrameStartType\n  | PreFrameUpdateType\n  | PostFrameUpdateType\n  | ItemUpdateType\n  | FrameBookendType\n  | GameEndType\n  | GeckoListType;\n\nexport type EventCallbackFunc = (\n  command: Command,\n  payload?: EventPayloadTypes | null,\n  buffer?: Uint8Array | null,\n) => boolean;\n\nexport interface FrameEntryType {\n  frame: number;\n  start?: FrameStartType;\n  players: {\n    [playerIndex: number]: {\n      pre: PreFrameUpdateType;\n      post: PostFrameUpdateType;\n    } | null;\n  };\n  followers: {\n    [playerIndex: number]: {\n      pre: PreFrameUpdateType;\n      post: PostFrameUpdateType;\n    } | null;\n  };\n  items?: ItemUpdateType[];\n}\n\nexport enum Frames {\n  FIRST = -123,\n  FIRST_PLAYABLE = -39,\n}\n\nexport interface FramesType {\n  [frameIndex: number]: FrameEntryType;\n}\n\nexport interface RollbackFramesType {\n  [frameIndex: number]: FrameEntryType[];\n}\n\nexport interface RollbackFrames {\n  frames: RollbackFramesType;\n  count: number;\n  lengths: number[];\n}\n"],"names":["Command","GameMode","Language","TimerType","ItemSpawnType","EnabledItemType","GameEndMethod","Frames"],"mappings":"IAAYA;;AAAZ,WAAYA;AACVA,EAAAA,sCAAA,kBAAA;AACAA,EAAAA,sCAAA,kBAAA;AACAA,EAAAA,mCAAA,eAAA;AACAA,EAAAA,yCAAA,qBAAA;AACAA,EAAAA,0CAAA,sBAAA;AACAA,EAAAA,iCAAA,aAAA;AACAA,EAAAA,oCAAA,gBAAA;AACAA,EAAAA,oCAAA,gBAAA;AACAA,EAAAA,sCAAA,kBAAA;AACAA,EAAAA,mCAAA,eAAA;AACD,CAXD,EAAYA,OAAO,KAAPA,OAAO,KAAA,CAAnB;;IA0CYC;;AAAZ,WAAYA;AACVA,EAAAA,4BAAA,OAAA;AACAA,EAAAA,gCAAA,WAAA;AACAA,EAAAA,sCAAA,gBAAA;AACAA,EAAAA,2CAAA,qBAAA;AACD,CALD,EAAYA,QAAQ,KAARA,QAAQ,KAAA,CAApB;;IAOYC;;AAAZ,WAAYA;AACVA,EAAAA,kCAAA,aAAA;AACAA,EAAAA,iCAAA,YAAA;AACD,CAHD,EAAYA,QAAQ,KAARA,QAAQ,KAAA,CAApB;;IAqDYC;;AAAZ,WAAYA;AACVA,EAAAA,gCAAA,SAAA;AACAA,EAAAA,sCAAA,eAAA;AACAA,EAAAA,sCAAA,eAAA;AACD,CAJD,EAAYA,SAAS,KAATA,SAAS,KAAA,CAArB;;IAMYC;;AAAZ,WAAYA;AACVA,EAAAA,yCAAA,QAAA;AACAA,EAAAA,4CAAA,aAAA;AACAA,EAAAA,uCAAA,QAAA;AACAA,EAAAA,0CAAA,WAAA;AACAA,EAAAA,wCAAA,SAAA;AACAA,EAAAA,6CAAA,cAAA;AACD,CAPD,EAAYA,aAAa,KAAbA,aAAa,KAAA,CAAzB;;IASYC;;AAAZ,WAAYA;AACVA,EAAAA,iDAAA,cAAA;AACAA,EAAAA,uDAAA,oBAAA;AACAA,EAAAA,gDAAA,aAAA;;AAEAA,EAAAA,0DAAA,uBAAA;AACAA,EAAAA,2DAAA,uBAAA;AACAA,EAAAA,2DAAA,uBAAA;AACAA,EAAAA,2DAAA,uBAAA;AACAA,EAAAA,4DAAA,uBAAA;AACAA,EAAAA,6CAAA,QAAA;AACAA,EAAAA,qDAAA,gBAAA;AACAA,EAAAA,yDAAA,mBAAA;AACAA,EAAAA,0DAAA,oBAAA;AACAA,EAAAA,iDAAA,WAAA;AACAA,EAAAA,oDAAA,cAAA;AACAA,EAAAA,wDAAA,iBAAA;AACAA,EAAAA,sDAAA,eAAA;AACAA,EAAAA,mDAAA,YAAA;AACAA,EAAAA,oDAAA,YAAA;AACAA,EAAAA,iDAAA,SAAA;AACAA,EAAAA,+DAAA,uBAAA;AACAA,EAAAA,qDAAA,YAAA;AACAA,EAAAA,yDAAA,gBAAA;AACAA,EAAAA,sDAAA,aAAA;AACAA,EAAAA,wDAAA,eAAA;AACAA,EAAAA,8DAAA,oBAAA;AACAA,EAAAA,2DAAA,iBAAA;AACAA,EAAAA,sDAAA,YAAA;AACAA,EAAAA,4DAAA,iBAAA;AACAA,EAAAA,0DAAA,eAAA;AACAA,EAAAA,uDAAA,YAAA;AACAA,EAAAA,4DAAA,gBAAA;AACAA,EAAAA,0DAAA,cAAA;AACAA,EAAAA,wDAAA,YAAA;AACAA,EAAAA,oDAAA,QAAA;AACAA,EAAAA,wDAAA,WAAA;AACAA,EAAAA,qDAAA,QAAA;AACAA,EAAAA,4DAAA,eAAA;AACAA,EAAAA,gEAAA,kBAAA;AACAA,EAAAA,2DAAA,aAAA;AACAA,EAAAA,4DAAA,cAAA;AACD,CA1CD,EAAYA,eAAe,KAAfA,eAAe,KAAA,CAA3B;;IA6HYC;;AAAZ,WAAYA;AACVA,EAAAA,8CAAA,eAAA;AACAA,EAAAA,4CAAA,aAAA;;AAEAA,EAAAA,wCAAA,SAAA;AACAA,EAAAA,wCAAA,SAAA;AACAA,EAAAA,8CAAA,eAAA;AACD,CAPD,EAAYA,aAAa,KAAbA,aAAa,KAAA,CAAzB;;IAmFYC;;AAAZ,WAAYA;AACVA,EAAAA,8BAAA,UAAA;AACAA,EAAAA,sCAAA,mBAAA;AACD,CAHD,EAAYA,MAAM,KAANA,MAAM,KAAA,CAAlB;;;;"}